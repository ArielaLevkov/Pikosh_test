<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>חידון לפיקוש: אנטומיה - זיהוי שרירים</title>
  <style>
    body {
      font-family: Arial;
      direction: rtl;
      text-align: center;
      font-size: 1.4em;
      padding: 10px;
    }
    .question {
      margin: 20px auto;
      padding: 20px;
      width: 95%;
      max-width: 600px;
      border: 2px solid #ccc;
      border-radius: 12px;
      background: #f9f9f9;
    }
    button {
      margin: 10px;
      padding: 14px 24px;
      font-size: 1em;
      background: #ddd;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      opacity: .9;
    }
    .hidden {
      display: none;
    }
    #nextBtn {
      margin-top: 20px;
      display: none;
    }
  </style>
</head>
<body>

<h1>חידון אנטומיה</h1>
<div id="quiz"></div>
<button id="nextBtn" onclick="nextQuestion()">לשאלה הבאה</button>

<script>
const anterior = [
  "Sternocleidomastoid", "Scalenes", "Deltoids", "Serratus anterior", "Rectus abdominis",
  "Brachioradialis", "External oblique", "Tensor fasciae latae", "Sartorius", "Quadriceps femoris",
  "Gastrocnemius", "Peroneus", "Soleus", "Extensor digitorum longus", "Tibialis anterior",
  "Adductors", "Pronator teres", "Flexors", "Biceps brachii", "Pectoralis major", "Subclavius"
];

const posterior = [
  "Splenius capitis", "Trapezius", "Deltoids", "Teres minor", "Teres major",
  "Triceps brachii", "Latissimus dorsi", "External oblique", "Gluteus medius", "Gluteus maximus",
  "Extensors", "Hamstrings", "Gracilis", "Gastrocnemius", "Soleus", "Achilles tendon",
  "Erector spinae", "Quadratus lumborum", "Levator scapula", "Rhomboids",
  "Supraspinatus", "Infraspinatus", "Teres minor"
];

const muscles = [...anterior.map((m, i) => [m, "", "קדמית", i + 1]),
                  ...posterior.map((m, i) => [m, "", "אחורית", i + 1])];

const translations = {
  "Sternocleidomastoid": "סטרנוקלידומסטואיד",
  "Scalenes": "סקלנס",
  "Deltoids": "דלטואידס",
  "Serratus anterior": "סרייטוס אנטריור",
  "Rectus abdominis": "רקטוס אבדומיניס",
  "Brachioradialis": "ברכיאורדיאליס",
  "External oblique": "אקסטרנל אובליק",
  "Tensor fasciae latae": "טנסור פשיה לאטה",
  "Sartorius": "סרטוריוס",
  "Quadriceps femoris": "קוודריספס פמוריס",
  "Gastrocnemius": "גסטרוקנמיוס",
  "Peroneus": "פרונאוס",
  "Soleus": "סולאוס",
  "Extensor digitorum longus": "אקסטנסור דיגיטורום לונגוס",
  "Tibialis anterior": "טיביאליס אנטריור",
  "Adductors": "אדוקטורס",
  "Pronator teres": "פרונייטור טרס",
  "Flexors": "פלקסורס",
  "Biceps brachii": "בייספס בראכי",
  "Pectoralis major": "פקטורליס מייג'ור",
  "Subclavius": "סאבקלביוס",
  "Splenius capitis": "ספלניוס קפיטיס",
  "Trapezius": "טרפזיוס",
  "Teres minor": "טרס מיינור",
  "Teres major": "טרס מייג'ור",
  "Triceps brachii": "טרייספס בראכי",
  "Latissimus dorsi": "לטיסימוס דורסי",
  "Gluteus medius": "גלוטאוס מדיוס",
  "Gluteus maximus": "גלוטאוס מקסימוס",
  "Extensors": "אקסטנסורס",
  "Hamstrings": "האמסטרינגס",
  "Gracilis": "גרסיליס",
  "Achilles tendon": "גיד אכילס",
  "Erector spinae": "ארקטור ספייני",
  "Quadratus lumborum": "קוודרטוס לומבורום",
  "Levator scapula": "לבטור סקפולה",
  "Rhomboids": "רומבוידס",
  "Supraspinatus": "סופרספינטוס",
  "Infraspinatus": "אינפרספינטוס"
};

muscles.forEach(m => m[1] = translations[m[0]]);

const quiz = document.getElementById("quiz");
const nextBtn = document.getElementById("nextBtn");
let score = 0, current = 0;
const questions = muscles.map((m, i) => ({...m})).sort(() => 0.5 - Math.random());

function buildQuestion(n) {
  const [eng, heb, side, number] = [questions[n][0], questions[n][1], questions[n][2], questions[n][3]];
  const correctIndex = muscles.findIndex(m => m[0] === eng);
  const wrong = muscles.filter((_, i) => i !== correctIndex).sort(() => 0.5 - Math.random()).slice(0, 3);
  const opts = [...wrong, [eng, heb]].sort(() => 0.5 - Math.random());
  const letters = ["a", "b", "c", "d"];
  const div = document.createElement("div");
  let label;
  if (side === "קדמית") {
    if (eng === "Rectus femoris") label = "9.1";
    else if (eng === "Vastus lateralis") label = "9.2";
    else if (eng === "Vastus medialis") label = "9.3";
    else if (eng === "Adductor longus") label = "15.1";
    else if (eng === "Adductor brevis") label = "15.2";
    else if (eng === "Adductor magnus") label = "15.3";
    else label = ++anteriorCount;
  } else {
    if (eng === "Biceps femoris") label = "12.1";
    else if (eng === "Semitendinosus") label = "12.2";
    else if (eng === "Semimembranosus") label = "12.3";
    else label = ++posteriorCount;
  }
  div.className = "question" + (n ? " hidden" : "");
  div.id = "q" + n;
  div.innerHTML = `<p><strong>${n + 1}. מהו השריר שמסומן במספר ${number} (${side})?</strong></p>
                   <p>בחרי תשובה:</p>` +
    opts.map((o, i) => `<button data-right="${o[0] === eng}" onclick="check(this)">${letters[i]}) ${o[0]} (${o[1]})</button>`).join("<br>");
  return div;
}

questions.forEach((_, i) => quiz.appendChild(buildQuestion(i)));

function check(btn) {
  const correct = btn.dataset.right === "true";
  btn.style.background = correct ? "#4caf50" : "#f44336";
  if (correct) score++;
  [...btn.parentNode.querySelectorAll("button")]
    .filter(b => b.dataset.right === "true").forEach(b => b.style.background = "#4caf50");
  nextBtn.style.display = "inline-block";
}

function nextQuestion() {
  document.getElementById("q" + current).classList.add("hidden");
  current++;
  nextBtn.style.display = "none";
  if (current < questions.length)
    document.getElementById("q" + current).classList.remove("hidden");
  else quiz.innerHTML = `<h2>סיימת! ${score} / ${questions.length}</h2>`;
}
</script>

</body>
</html>
