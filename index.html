<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>חידון אנטומיה - זהוי שרירים</title>
  <style>
    body {
      font-family: Arial;
      direction: rtl;
      text-align: center;
      font-size: 1.4em;
      padding: 10px;
    }
    .question {
      margin: 20px auto;
      padding: 20px;
      width: 95%;
      max-width: 600px;
      border: 2px solid #ccc;
      border-radius: 12px;
      background: #f9f9f9;
    }
    button {
      margin: 10px;
      padding: 14px 24px;
      font-size: 1em;
      background: #ddd;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      opacity: .9;
    }
    .hidden {
      display: none;
    }
    #nextBtn {
      margin-top: 20px;
      display: none;
    }
  </style>
</head>
<body>

<h1>חידון אנטומיה</h1>
<div id="quiz"></div>
<button id="nextBtn" onclick="nextQuestion()">לשאלה הבאה</button>

<script>
const muscles = [
  ["Sternocleidomastoid", "סטרנוקלידומסטואיד", "קדמית"],
  ["Scalenes", "סקאלנז", "קדמית"],
  ["Deltoids", "דלטואידס", "קדמית"],
  ["Serratus anterior", "סרייטוס אנטריור", "קדמית"],
  ["Rectus abdominis", "רקטוס אבדומיניס", "קדמית"],
  ["Brachioradialis", "ברכיאורדיאליס", "קדמית"],
  ["External oblique", "אקסטרנל אובליק", "קדמית"],
  ["Tensor fasciae latae", "טנסור פשיה לאטה", "קדמית"],
  ["Sartorius", "סרטוריוס", "קדמית"],
  ["Rectus femoris", "רקטוס פמוריס", "קדמית"],
  ["Vastus lateralis", "וסטוס לטרליס", "קדמית"],
  ["Vastus medialis", "וסטוס מדיאליס", "קדמית"],
  ["Gastrocnemius", "גסטרוקנמיוס", "קדמית"],
  ["Peroneus", "פרונאוס", "קדמית"],
  ["Soleus", "סולאוס", "קדמית"],
  ["Extensor digitorum longus", "אקסטנסור דיגיטורום לונגוס", "קדמית"],
  ["Tibialis anterior", "טיביאליס אנטריור", "קדמית"],
  ["Adductors", "אדוקטורס", "קדמית"],
  ["Pronator teres", "פרונייטור טרס", "קדמית"],
  ["Flexors", "פלקסורס", "קדמית"],
  ["Biceps brachii", "בייספס בראכי", "קדמית"],
  ["Pectoralis major", "פקטורליס מייג'ור", "קדמית"],
  ["Subclavius", "סאבקלביוס", "קדמית"],
  ["Splenius capitis", "ספלניוס קפיטיס", "אחורית"],
  ["Trapezius", "טרפזיוס", "אחורית"],
  ["Deltoids", "דלטואידס", "אחורית"],
  ["Teres minor", "טרס מיינור", "אחורית"],
  ["Teres major", "טרס מייג'ור", "אחורית"],
  ["Triceps brachii", "טרייספס בראכי", "אחורית"],
  ["Latissimus dorsi", "לטיסימוס דורסי", "אחורית"],
  ["External oblique", "אקסטרנל אובליק", "אחורית"],
  ["Gluteus medius", "גלוטאוס מדיוס", "אחורית"],
  ["Gluteus maximus", "גלוטאוס מקסימוס", "אחורית"],
  ["Extensors", "אקסטנסורס", "אחורית"],
  ["Hamstrings", "האמסטרינגס", "אחורית"],
  ["Gracilis", "גרסיליס", "אחורית"],
  ["Gastrocnemius", "גסטרוקנמיוס", "אחורית"],
  ["Soleus", "סולאוס", "אחורית"],
  ["Achilles tendon", "גיד אכילס", "אחורית"],
  ["Erector spinae", "ארקטור ספייני", "אחורית"],
  ["Quadratus lumborum", "קוודרטוס לומבורום", "אחורית"],
  ["Levator scapula", "לבטור סקפולה", "אחורית"],
  ["Rhomboids", "רומבוידס", "אחורית"],
  ["Supraspinatus", "סופרספינטוס", "אחורית"],
  ["Infraspinatus", "אינפרספינטוס", "אחורית"]
];

const quiz = document.getElementById("quiz");
const nextBtn = document.getElementById("nextBtn");
let score = 0, current = 0;
let anteriorCount = 0, posteriorCount = 0;

const questions = muscles.map((m, i) => ({...m, index: i})).sort(() => 0.5 - Math.random());

function buildQuestion(n) {
  const [eng, heb, side] = [questions[n][0], questions[n][1], questions[n][2]];
  const correctIndex = muscles.findIndex(m => m[0] === eng);
  const wrong = muscles.filter((_, i) => i !== correctIndex).sort(() => 0.5 - Math.random()).slice(0, 3);
  const opts = [...wrong, [eng, heb]].sort(() => 0.5 - Math.random());
  const letters = ["a", "b", "c", "d"];

  let label;
  if (side === "קדמית") {
    if (eng === "Rectus femoris") label = "9.1";
    else if (eng === "Vastus lateralis") label = "9.2";
    else if (eng === "Vastus medialis") label = "9.3";
    else label = ++anteriorCount;
  } else {
    label = ++posteriorCount;
  }

  const div = document.createElement("div");
  div.className = "question" + (n ? " hidden" : "");
  div.id = "q" + n;
  div.innerHTML = `<p><strong>${n + 1}. מהו השריר שמסומן בתספר ${label} (${side})?</strong></p>
                   <p>בחרי תשובה:</p>` +
    opts.map((o, i) => `<button data-right="${o[0] === eng}" onclick="check(this)">${letters[i]}) ${o[0]} (${o[1]})</button>`).join("<br>");
  return div;
}

questions.forEach((_, i) => quiz.appendChild(buildQuestion(i)));

function check(btn) {
  const correct = btn.dataset.right === "true";
  btn.style.background = correct ? "#4caf50" : "#f44336";
  if (correct) score++;
  [...btn.parentNode.querySelectorAll("button")]
    .filter(b => b.dataset.right === "true").forEach(b => b.style.background = "#4caf50");
  nextBtn.style.display = "inline-block";
}

function nextQuestion() {
  document.getElementById("q" + current).classList.add("hidden");
  current++;
  nextBtn.style.display = "none";
  if (current < questions.length)
    document.getElementById("q" + current).classList.remove("hidden");
  else quiz.innerHTML = `<h2>סיימת! ${score} / ${questions.length}</h2>`;
}
</script>

</body>
</html>
